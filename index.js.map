{"version":3,"file":"index.js","sources":["../src/js/images.js","../src/js/main.js","../src/js/init.js"],"sourcesContent":["const API_KEY = '48307401-677547b5d41e0bab8fbb923eb';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}`;\n\n  return fetch(url).then((response) => {\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    return response.json();\n  });\n}","import { fetchImages } from './images.js';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.getElementById('load-more');\nconst loader = document.getElementById('loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nlet query = '';\nlet page = 1;\n\nform.addEventListener('submit', function (e) {\n  e.preventDefault();\n  query = e.target.elements.query.value.trim();\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  // Yeni bir arama yapƒ±ldƒ±ƒüƒ±nda galeriyi temizle ve sayfayƒ± sƒ±fƒ±rla\n  gallery.innerHTML = '';\n  page = 1;\n  loadImages(query, page);\n});\n\nloadMoreBtn.addEventListener('click', function () {\n  page += 1;\n  loadImages(query, page);\n});\n\nfunction loadImages(query, page) {\n  loader.classList.remove('hidden');\n  fetchImages(query, page)\n    .then((data) => {\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          title: 'No Results',\n          message: 'No images found. Try another search!',\n        });\n        loadMoreBtn.classList.add('hidden');\n      } else {\n        displayImages(data.hits);\n        loadMoreBtn.classList.remove('hidden');\n        if (data.hits.length < 20) {\n          loadMoreBtn.classList.add('hidden');\n        }\n      }\n    })\n    .catch((error) => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n      });\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n    });\n}\n\nfunction displayImages(images) {\n  const markup = images\n    .map(\n      (image) => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery__item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p>‚ù§Ô∏è Likes: ${image.likes}</p>\n        <p>üëÅ Views: ${image.views}</p>\n        <p>üí¨ Comments: ${image.comments}</p>\n        <p>‚¨á Downloads: ${image.downloads}</p>\n      </div>\n    </a>\n  `\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}","window.global ||= window;\nimport './main.js';"],"names":["API_KEY","BASE_URL","fetchImages","query","page","url","response","form","gallery","loadMoreBtn","loader","lightbox","SimpleLightbox","e","iziToast","loadImages","data","displayImages","error","images","markup","image"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAG,CAC3C,MAAMC,EAAM,GAAGJ,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACJ,CAAG,iEAAiEC,CAAI,GAEtE,OAAO,MAAMC,CAAG,EAAE,KAAMC,GAAa,CACnC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACpB,CAAG,CACH,CCVA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAS,SAAS,eAAe,QAAQ,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,IAAIT,EAAQ,GACRC,EAAO,EAEXG,EAAK,iBAAiB,SAAU,SAAUM,EAAG,CAG3C,GAFAA,EAAE,eAAc,EAChBV,EAAQU,EAAE,OAAO,SAAS,MAAM,MAAM,OAClC,CAACV,EAAO,CACVW,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAGDN,EAAQ,UAAY,GACpBJ,EAAO,EACPW,EAAWZ,EAAOC,CAAI,CACxB,CAAC,EAEDK,EAAY,iBAAiB,QAAS,UAAY,CAChDL,GAAQ,EACRW,EAAWZ,EAAOC,CAAI,CACxB,CAAC,EAED,SAASW,EAAWZ,EAAOC,EAAM,CAC/BM,EAAO,UAAU,OAAO,QAAQ,EAChCR,EAAYC,EAAOC,CAAI,EACpB,KAAMY,GAAS,CACVA,EAAK,KAAK,SAAW,GACvBF,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,sCACnB,CAAS,EACDL,EAAY,UAAU,IAAI,QAAQ,IAElCQ,EAAcD,EAAK,IAAI,EACvBP,EAAY,UAAU,OAAO,QAAQ,EACjCO,EAAK,KAAK,OAAS,IACrBP,EAAY,UAAU,IAAI,QAAQ,EAG5C,CAAK,EACA,MAAOS,GAAU,CAChBJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,CACL,CAEA,SAASO,EAAcE,EAAQ,CAC7B,MAAMC,EAASD,EACZ,IACEE,GAAU;AAAA,eACFA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,uBAEjCA,EAAM,KAAK;AAAA,uBACXA,EAAM,KAAK;AAAA,0BACRA,EAAM,QAAQ;AAAA,0BACdA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIpC,EACA,KAAK,EAAE,EACVb,EAAQ,mBAAmB,YAAaY,CAAM,EAC9CT,EAAS,QAAO,CAClB,CCtFA,OAAO,SAAP,OAAO,OAAW"}